import{S as C,i as F,s as q,k as _,q as y,a as D,l as g,m as I,r as w,h as v,c as S,n as l,C as P,b as R,D as p,u as j,E as A,o as O,y as U,z as V,A as k,g as B,d as G,B as M}from"../chunks/index.c8ac2255.js";function T(o){let t,s,a,d,i,u,f,r,m;return{c(){t=_("div"),s=_("div"),a=y(o[1]),d=D(),i=_("img"),f=D(),r=_("div"),m=y(o[3]),this.h()},l(n){t=g(n,"DIV",{class:!0});var e=I(t);s=g(e,"DIV",{id:!0,class:!0});var c=I(s);a=w(c,o[1]),c.forEach(v),d=S(e),i=g(e,"IMG",{id:!0,src:!0,alt:!0}),f=S(e),r=g(e,"DIV",{id:!0});var h=I(r);m=w(h,o[3]),h.forEach(v),e.forEach(v),this.h()},h(){l(s,"id","comic-title"),l(s,"class","svelte-weeu1a"),l(i,"id","comic"),P(i.src,u=o[0])||l(i,"src",u),l(i,"alt",o[2]),l(r,"id","upload-date"),l(t,"class","comic-stuff svelte-weeu1a")},m(n,e){R(n,t,e),p(t,s),p(s,a),p(t,d),p(t,i),p(t,f),p(t,r),p(r,m)},p(n,[e]){e&2&&j(a,n[1]),e&1&&!P(i.src,u=n[0])&&l(i,"src",u),e&4&&l(i,"alt",n[2]),e&8&&j(m,n[3])},i:A,o:A,d(n){n&&v(t)}}}function z(o,t,s){let{comicAPIAddress:a}=t;const d=async n=>{const e=new URLSearchParams(Object.entries(n));return fetch("https://fwd.innopolis.app/api/hw2?"+e.toString()).then(c=>c.json())},i=async n=>{const e={num:n.toString()},c=new URLSearchParams(e);return fetch(a+c.toString()).then(h=>h.json())};let u="https://via.placeholder.com/400x300/FFFFFF/000000",f="Loading Title...",r="Placeholder",m="Upload Date: ";return O(async()=>{const e=await d({email:"j.totanji@innopolis.university"}),c=await i(e);s(0,u=c.img),s(1,f=c.title),s(2,r=c.alt);const h=parseInt(c.day),b=parseInt(c.month)-1,E=parseInt(c.year),L=new Date(E,b,h);s(3,m=m+L.toLocaleDateString("en-GB"))}),o.$$set=n=>{"comicAPIAddress"in n&&s(4,a=n.comicAPIAddress)},[u,f,r,m,a]}class $ extends C{constructor(t){super(),F(this,t,z,T,q,{comicAPIAddress:4})}}function x(o){let t,s;return t=new $({props:{comicAPIAddress:H}}),{c(){U(t.$$.fragment)},l(a){V(t.$$.fragment,a)},m(a,d){k(t,a,d),s=!0},p:A,i(a){s||(B(t.$$.fragment,a),s=!0)},o(a){G(t.$$.fragment,a),s=!1},d(a){M(t,a)}}}const H="https://getxkcd.vercel.app/api/comic?";class K extends C{constructor(t){super(),F(this,t,null,x,q,{})}}export{K as default};
